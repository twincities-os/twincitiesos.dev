---
import { getCollection } from "astro:content";
import background from "../../assets/background.svg";
import Layout from "../../layouts/Layout.astro";
import styles from "../../styles/scss/layouts/blog.module.scss";

const posts = await getCollection("blog");
---
<Layout>
	<img class={styles.background} src={background.src} alt="" fetchpriority="high" />
    <main>
        <h1>TCOS Blog</h1>
        <ul>
            {
                posts.map(post => {
                    return (
                        <li>
                            <a href={`/blog/${post.data.slug}`}>{post.data.title}</a>
                        </li>
                    );
                })
            }
        </ul>
    </main>
</Layout>